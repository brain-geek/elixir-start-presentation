<!DOCTYPE html>
<html lang="en">
<head>
	<title>Elixir: where to start?</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="shower/themes/material/styles/screen-16x10.css">
</head>
<body class="shower list">
	<header class="caption">
		<h1>Elixir: where to start? </h1>
		<p>Oleksandr Rozumii, Toptal</p>
	</header>

	<section class="slide">
		<h2>Elixir: where to start?</h2>
    <div style="text-align : right;">
      Oleksandr Rozumii<br>
      github.com/brain-geek
    </div>

	</section>

  <section class="slide">
    <h2>Elixir: <s>where to start?</s> gotchas and cool stuff I stumbled upon</h2>
    <div style="text-align : right;">
      Oleksandr Rozumii<br>
      github.com/brain-geek
    </div>

  </section>

  <section class="slide">
    <h2>Elixir: <s>where to start?</s> <s>gotchas and cool stuff I stumbled upon</s> brief overview</h2>
    <div style="text-align : right;">
      Oleksandr Rozumii<br>
      github.com/brain-geek
    </div>

  </section>

	<section class="slide">
		<h2>Who am I?</h2>
		<ol>
			<li>Elixir School contributor/translator</li>
      <li>Ruby (lead) developer for >5 years</li>
      <li>Doing something with Elixir for almost a year now</li>
		</ol>
	</section>

	<section class="slide">
		<h2 class="shout">Quiz</h2>
	</section>

	<section class="slide">
		<h2>The task?</h2>
		<ul>
      <li class="next">Fast request processing</li>
      <li class="next">Concurrent processing</li>
      <li class="next">Server-side events</li>
      <li class="next">Straightforward testing and refactoring</li>
      <li class="next">Simple as possible deploy and scalability</li>
      <li class="next">Mature ecosystem</li>
		</ul>
	</section>

  <section class="slide">
    <h2>Alternatives?</h2>

    <ul style="font-size: 85%">
      <li class="next">Roda/Sinatra/Grape/Padrino</li>
      <li class="next">Crystal</li>
      <li class="next">Python</li>
      <li class="next">Java/Groovy/Scala/Clojure</li>
      <li class="next">Go</li>
      <li class="next">JS</li>
      <li class="next">PHP<img src="https://assets-cdn.github.com/images/icons/emoji/trollface.png" class="next"</li>
      <li class="next">Erlang</li>
    </ul>
  </section>

  <section id="picture" class="slide">
    <img class="cover" alt="Phoenix main page" src="pictures/phoenix-page.png">
  </section>

  <section class="slide">
    <h2 class="shout">But there is no such thing as a Phoenix project</h2>
  </section>

  <section class="slide">
    <h2>Mix</h2>

    <pre class="next">
      <code>$ mix new kv --module KV</code>

      <code clas="mark">* creating mix.exs</code>
      <code>* creating config/config.exs</code>
      <code>* creating lib/kv.ex</code>
      <code>* creating test/test_helper.exs</code>
      <code>* creating test/kv_test.exs</code>
    </pre>

  </section>

  <section class="slide">
    <h2>Mix</h2>

    <pre>
      <code>defmodule KV.Mixfile do</code>
      <code>  use Mix.Project</code>
      <code>  def application do</code>
      <code>    [applications: [:logger]]</code>
      <code>  end</code>
      <code>  defp deps do</code>
      <code class="mark">    [{:postgrex, ">= 0.0.0"}]</code>
      <code>  end</code>
      <code>end</code>
    </pre>
  </section>

  <section class="slide">
    <h2>Plug</h2>

    <pre class="next">
      <code>defmodule MyPlug do</code>
      <code>  def init([]), do: false</code>
      <code>  def call(conn, _opts), do: conn</code>
      <code>end</code>
    </pre>
  </section>

  <section class="slide">
    <h2>Plug</h2>

    <pre style="font-size:75%">
      <code>defmodule App.Router do</code>
      <code>use App.Web, :router</code>
      <code>use Plug.ErrorHandler</code>

      <code>pipeline :browser do</code>
      <code>  plug :accepts, ["html"]</code>
      <code>  plug :fetch_session</code>
      <code>  plug :fetch_flash</code>
      <code>  plug :protect_from_forgery</code>
      <code>  plug :put_secure_browser_headers</code>
      <code>end</code>
    </pre>
  </section>

  <section class="slide">
    <h2 class="shout">Did I mention it's all immutable?</h2>
  </section>

  <section class="slide">
    <h2 class="shout">Uh... I was going to give an overview</h2>
  </section>

  <section class="slide">
    <img class="cover" alt="Programming elixir" src="pictures/elixir12.jpg">
  </section>

  <section class="slide">
    <img class="cover" alt="Metaprogramming elixir" src="pictures/cmelixir.jpg">
  </section>

  <section class="slide">
    <img class="cover" alt="Programming phoenix" src="pictures/phoenix.jpg">
  </section>

  <section class="slide">
    <h2 class="shout">Pattern matching</h2>
  </section>

  <section class="slide">
    <h2>Pattern matching</h2>

    <pre>
      <code>iex> x = 1</code>
      <code>1</code>
    </pre>
    <pre class="next">
      <code>iex> 1 = x</code>
      <code>1</code>
    </pre>
    <pre class="next">
      <code>iex> 2 = x</code>
      <code>** (MatchError) no match of right hand side value: 1</code>
    </pre>
  </section>

  <section class="slide">
    <h2>Pattern matching</h2>

    <pre>
      <code># Lists</code>
      <code>iex> list = [1, 2, 3]</code>
      <code>iex> [1, 2, 3] = list</code>
      <code>[1, 2, 3]</code>
      <code>iex> [] = list</code>
      <code>** (MatchError) no match of right hand side value: [1, 2, 3]</code>
    </pre>
  </section>

  <section class="slide">
    <h2>Pattern matching</h2>

    <pre>
      <code>iex> [1|tail] = list</code>
      <code>[1, 2, 3]</code>
      <code>iex> tail</code>
      <code>[2, 3]</code>
      <code>iex> [2|_] = list</code>
      <code>** (MatchError) no match of right hand side value: [1, 2, 3]</code>
    </pre>
  </section>

  <section class="slide">
    <h2>Pattern matching - Fibonacci</h2>

    <pre>
      <code>defmodule Fib do </code>
      <code>  def fib(0) do 0 end</code>
      <code>  def fib(1) do 1 end</code>
      <code>  def fib(n) do fib(n-1) + fib(n-2) end</code>
      <code>end</code>
    </pre>
  </section>

  <section class="slide">
    <h2>Pattern matching in real world</h2>

    <pre>
      <code>def tick(state, []) do</code>
      <code>  state</code>
      <code>end</code>

      <code>def tick(state, state) do</code>
      <code>  state</code>
      <code>end</code>

      <code class="mark">def tick(prev_state, curr_state) do</code>
    </pre>
  </section>

  <section class="slide">
    <h2>Pattern matching in real world</h2>

    <pre>
      <code>def event_text(%{"event" => "end, "label" => match_label}) do</code>
      <code>  I18n.t!("en", "bot.unavailable", label: label)</code>
      <code>end</code>

      <code>def event_text(%{"event" => "start", "label" => match_label}) do</code>
      <code>  I18n.t!("en", "bot.started", label: label)</code>
      <code>end</code>

      <code>def event_text(details = %{"match_id" => id, "event" => event}) do</code>
    </pre>
  </section>

  <section class="slide">
    <img class="cover" alt="Elixir School" src="pictures/elixir-school.jpg">
  </section>

  <section class="slide">
    <h2 class="shout">And there are supervisors!</h2>
  </section>

  <section class="slide">
    <img class="cover" alt="Wrong supervisor" src="pictures/wrong-supervisor.jpg">
  </section>

  <section class="slide">
    <img class="cover" alt="Wrong supervisor" src="pictures/wrong-supervisor crossed.jpg">
  </section>

  <section class="slide">
    <img class="cover" alt="Supervisor" src="pictures/supervisors.png">
  </section>

  <section class="slide">
    <h2>Supervisors</h2>

    <pre>
      <code>children = [</code>
      <code>  supervisor(App.Endpoint, []),</code>
      <code>  worker(App.Repo, []),</code>
      <code>  supervisor(App.EventStore.Supervisor, []),</code>
      <code>]</code>
      <code>opts = [strategy: :one_for_one, name: App.Supervisor]</code>
      <code>Supervisor.start_link(children, opts)</code>
    </pre>
  </section>

  <section class="slide">
    <h2 class="shout">Thank you!</h2>       
  </section>

	<p class="badge">
		<a href="https://github.com/shower/shower">Fork me on GitHub</a>
	</p>
	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"></div>
	<script src="shower/shower.min.js"></script>
	<!-- Copyright © 2015 Alex Rozumiy, Toptal. -->
</body>
</html>
